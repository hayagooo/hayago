import{u as Q,_ as X,a as Z}from"./Loading.c9adccb2.js";import{_ as ee,a as te}from"./EmptyData.78cf7406.js";import{a as oe,r as h,b as se,e as ae,f as Y,h as le,i as ne,j as ie,k as de,l as $,m as I,p as M,q as B,s as c,t as m,v as e,u as l,w as q,x,y as P,z as G,A as T,B as v,c as C,F as H,C as N,D as E,E as re,G as ce,H as ue,I as me,J as ge,K as ve,o as i,L as pe}from"./entry.9ff736cb.js";import{I as p}from"./iconify.55356581.js";import"./_plugin-vue_export-helper.c27b6911.js";const he={class:"flex h-screen bg-gray-100"},_e={class:"mt-10 mb-4"},be={class:"mx-6"},fe={class:"flex items-center gap-x-3"},ye={class:"md:hidden inline-block"},xe=e("img",{src:X,class:"w-3/4 mx-auto md:mb-8",alt:"Logo Horizontal"},null,-1),we={href:"#",class:"mt-4 py-2.5 px-4 rounded-xl transition duration-200 bg-primary text-white text-gray-600 flex items-center gap-x-3"},ke={class:"absolute w-full bottom-0 left-0 p-4"},Ce={class:"flex-1 flex flex-col overflow-hidden"},De={class:"p-8 flex justify-between items-center"},$e={class:"flex items-center gap-x-3"},Te={class:"md:hidden inline-block"},ze=e("h2",{class:"text-xl font-bold text-gray-800"},"Dashboard",-1),je={class:"px-8 pb-8 flex-1 overflow-x-hidden overflow-y-auto"},Re={class:"bg-white p-5 rounded-xl"},Ue=e("h1",{class:"mt-2 text-xl mb-6 text-gray-700"}," Progress PKM ",-1),Le={class:"mt-1 flex items-center gap-x-4"},Me={class:"justify-center items-center gap-3 flex my-6"},Ve={key:1},Ae={key:1},Fe={class:"grid lg:grid-cols-3 md:grid-cols-2 grid-cols-1 gap-4"},Se={for:"input_video",role:"button",class:"p-6 flex items-center justify-center bg-gray-100 hover:scale-95 border-dashed border-2 border-primary transition-all lg:rounded-[2rem] rounded-[1.5rem]"},Ie={class:"space-y-3"},Be=e("p",null,"Add Video",-1),Pe=["src"],He={class:"absolute right-0 top-0 dropdown dropdown-bottom pr-6 pt-6 dropdown-end"},Ne={tabindex:"0",class:"btn bg-white border-0 m-1"},Ee={tabindex:"0",class:"dropdown-content menu p-2 shadow bg-base-100 rounded-box w-52"},Ke=["onClick"],Je={class:"flex pt-4 items-center justify-items-between w-full"},Oe={class:"w-full"},Ye={class:"font-semibold"},qe={class:"flex p-4 bg-gray-100 text-gray-600 rounded-xl mt-5 text-sm items-center justify-between w-full"},Ge={key:1},We={key:1},Qe={class:"grid lg:grid-cols-3 md:grid-cols-2 grid-cols-1 gap-4"},Xe={for:"input_document",role:"button",class:"p-6 flex items-center justify-center bg-gray-100 hover:scale-95 border-dashed border-2 border-primary transition-all lg:rounded-[2rem] rounded-[1.5rem]"},Ze={class:"space-y-3"},et=e("p",null,"Add Document",-1),tt=["onClick"],ot={class:"absolute right-0 top-0 dropdown dropdown-bottom pr-6 pt-6 dropdown-end"},st={tabindex:"0",class:"btn bg-white border-0 m-1"},at={tabindex:"0",class:"dropdown-content menu p-2 shadow bg-base-100 rounded-box w-52"},lt=["onClick"],nt={for:"document_modal"},it={class:"flex gap-x-3"},dt={class:"font-semibold"},rt={class:"w-full mt-4"},ct={class:"flex p-4 bg-gray-100 text-gray-600 rounded-xl mt-5 text-sm items-center justify-between w-full"},ut=e("input",{type:"checkbox",id:"document_modal",class:"modal-toggle"},null,-1),mt={class:"modal fixed",style:{"z-index":"70"}},gt={key:0,class:"modal-box w-11/12 max-w-5xl"},vt=["data"],pt=["href"],ht=e("div",{class:"modal-action"},[e("label",{for:"document_modal",class:"btn w-full"},"Close")],-1),_t={key:1},bt={key:1},ft={class:"grid lg:grid-cols-3 md:grid-cols-2 grid-cols-1 gap-4"},yt={for:"input_image",role:"button",class:"p-6 flex items-center justify-center bg-gray-100 hover:scale-95 border-dashed border-2 border-primary transition-all lg:rounded-[2rem] rounded-[1.5rem]"},xt={class:"space-y-3"},wt=e("p",null,"Add Image",-1),kt=["onClick"],Ct={class:"absolute right-0 top-0 dropdown dropdown-bottom pr-6 pt-6 dropdown-end"},Dt={tabindex:"0",class:"btn m-1"},$t={tabindex:"0",class:"dropdown-content menu p-2 shadow bg-base-100 rounded-box w-52"},Tt=["onClick"],zt={for:"image_modal"},jt=["src","alt"],Rt={class:"flex pt-4 items-center justify-items-between w-full"},Ut={class:"w-full"},Lt={class:"font-semibold"},Mt={class:"flex p-4 bg-gray-100 text-gray-600 rounded-xl mt-5 text-sm items-center justify-between w-full"},Vt=e("input",{type:"checkbox",id:"image_modal",class:"modal-toggle"},null,-1),At={class:"modal fixed",style:{"z-index":"70"}},Ft={key:0,class:"modal-box w-11/12 max-w-2xl"},St=["src"],It=e("div",{class:"modal-action"},[e("label",{for:"image_modal",class:"btn w-full"},"Close")],-1),Bt={class:"modal",style:{"z-index":"70"}},Pt={class:"modal-box max-w-md"},Ht={class:"w-full h-4 bg-gray-100 rounded-xl relative"},qt=oe({__name:"admin",setup(Nt){let _=h(0),a=h("image");const f=h([]),g=h([]),b=h([]),D=h(0),V=h(0),w=h(!0),z=h(!1),K=h(0),k=h(!1),J=se();ae(()=>{const r=Y(y.$database,"pkm/progress");le(r,o=>{_.value=o.val()}),j(),R(),U();const t=ne(y.$auth,o=>{o||J.push({path:"/"})});ie(()=>{t()})});const A=async r=>{const t=r.target.files[0];if(!t)return;let o="";a.value==="video"?o="video":a.value==="documents"?o="document":a.value==="image"&&(o="image");const d=$(y.$storage,`${o}/${t.name}`),n=ue(d,t);n.on("state_changed",s=>{z.value=!0;const u=s.bytesTransferred/s.totalBytes*100;console.log("Upload is "+u+"% done"),K.value=u},s=>{console.error("Upload failed:",s)},async()=>{const s=await M(n.snapshot.ref);console.log("File available at",s),z.value=!1,U(),R(),j()})},F=async r=>{let t="",o="";if(a.value==="video"?(t="video",o=f.value[r].name):a.value==="documents"?(t="document",o=g.value[r].name):a.value==="image"&&(t="image",o=b.value[r].name),o!==""&&o!==void 0&&o!==null){const d=$(y.$storage,`${t}/${o}`);pe(d).then(()=>{console.log("File deleted successfully"),j(),R(),U()}).catch(n=>{console.error("Error deleting file:",n)})}},S=r=>{const t=new Date(r),o=String(t.getUTCDate()).padStart(2,"0"),d=String(t.getUTCMonth()+1).padStart(2,"0"),n=t.getUTCFullYear();return`${o}-${d}-${n}`},y=de(),O=r=>{const t=Y(y.$database,"pkm/progress");me(t,_.value).catch(o=>{console.error("Data could not be saved."+o)})};async function W(){const r=ge();try{await ve(r),J.push("/")}catch(t){console.error("Sign out Error",t)}}function j(){w.value=!0,f.value=[];const r=$(y.$storage,"video");I(r).then(async t=>{for(const o of t.items){const d=await M(o),n=await B(o);f.value.push({url:d,name:n.name,type:n.contentType,size:n.size,timestamp:n.timeCreated})}f.value.sort((o,d)=>new Date(d.timestamp).getTime()-new Date(o.timestamp).getTime())}).catch(t=>{console.error(t)})}function R(){w.value=!0,g.value=[];const r=$(y.$storage,"document");I(r).then(async t=>{for(const o of t.items){const d=await M(o),n=await B(o);g.value.push({url:d,name:n.name,type:n.contentType,size:n.size,timestamp:n.timeCreated})}g.value.sort((o,d)=>new Date(d.timestamp).getTime()-new Date(o.timestamp).getTime())}).catch(t=>{console.error(t)})}function U(){w.value=!0,b.value=[];const r=$(y.$storage,"image");I(r).then(async t=>{for(const o of t.items){const d=await M(o),n=await B(o);b.value.push({url:d,name:n.name,type:n.contentType,size:n.size,timestamp:n.timeCreated})}b.value.sort((o,d)=>new Date(d.timestamp).getTime()-new Date(o.timestamp).getTime())}).catch(t=>{console.error(t)})}return Q({title:"Admin Dashboard - Hayago Drone Delivery",description:"Admin Dashboard for Hayago Drone Delivery. Manage and oversee all operational aspects of drone delivery services.",ogTitle:"Login - Hayago Drone Delivery",ogDescription:"Login to your Hayago account to experience the ease and efficiency of drone delivery. Join us and revolutionize the way you receive your goods."}),(r,t)=>{const o=Z,d=ee,n=te;return i(),c("div",he,[m(o),e("div",{class:x(["bg-white h-full md:w-64 md:h-auto overflow-auto transition-all duration-400 md:block md:relative fixed z-20",{"w-0":!k.value,"w-3/4":k.value}])},[e("div",_e,[e("div",be,[e("div",fe,[e("div",ye,[e("button",{class:"btn bg-gray-200",onClick:t[0]||(t[0]=s=>k.value=!k.value)},[m(l(p),{icon:"line-md:menu-fold-left",class:"text-2xl text-primary"})])]),xe]),e("a",we,[m(l(p),{icon:"akar-icons:dashboard",class:"text-xl"}),q(" Dashboard ")]),e("div",ke,[e("button",{onClick:t[1]||(t[1]=s=>W()),class:"mt-4 py-2.5 px-4 rounded-xl w-full transition duration-200 bg-red-600 hover:bg-red-700 text-white text-gray-600 flex items-center gap-x-3"},[m(l(p),{icon:"solar:logout-3-bold",class:"text-xl"}),q(" Logout ")])])])])],2),e("div",Ce,[e("header",De,[e("div",$e,[e("div",Te,[e("button",{class:"btn bg-gray-200",onClick:t[2]||(t[2]=s=>k.value=!k.value)},[m(l(p),{icon:"line-md:menu-fold-right",class:"text-2xl text-primary"})])]),ze])]),e("main",je,[e("div",Re,[Ue,e("div",Le,[P(e("input",{type:"number",min:"0",max:"100",onChange:O,"onUpdate:modelValue":t[3]||(t[3]=s=>T(_)?_.value=s:_=s),class:"input w-20 border border-gray-200"},null,544),[[G,l(_)]]),P(e("input",{type:"range",id:"slider",name:"slider",min:"0",max:"100",step:"1",onInput:O,"onUpdate:modelValue":t[4]||(t[4]=s=>T(_)?_.value=s:_=s),class:"slider grow w-full h-2 rounded-full bg-primary focus:outline-none transition duration-150 ease-in-out",style:{background:"linear-gradient(90deg, blue var(--slider-percentage), #d1d5db var(--slider-percentage))"}},null,544),[[G,l(_)]])])]),e("div",Me,[e("button",{class:x(["btn border-0 transition-all",{"bg-primary text-white hover:bg-primary active-primary":l(a)=="image","bg-gray-200 text-primary hover:bg-gray-200 active-gray-200":l(a)!="image"}]),onClick:t[5]||(t[5]=s=>(T(a)?a.value="image":a="image",U()))},"Image ("+v(b.value.length)+")",3),e("button",{class:x(["btn border-0 transition-all",{"bg-primary text-white hover:bg-primary active-primary":l(a)=="documents","bg-gray-200 text-primary hover:bg-gray-200 active-gray-200":l(a)!="documents"}]),onClick:t[6]||(t[6]=s=>(T(a)?a.value="documents":a="documents",R()))},"Document ("+v(g.value.length)+")",3),e("button",{class:x(["btn border-0 transition-all",{"bg-primary text-white hover:bg-primary active-primary":l(a)=="video","bg-gray-200 text-primary hover:bg-gray-200 active-gray-200":l(a)!="video"}]),onClick:t[7]||(t[7]=s=>(T(a)?a.value="video":a="video",j()))},"Video ("+v(f.value.length)+")",3)]),e("div",null,[e("div",{class:x(["transition-all duration-400 ease-in-out",{"h-full w-full inline-block":l(a)=="video","h-0 opacity-0 hidden":l(a)!="video"}])},[w.value&&f.value.length<=0?(i(),C(d,{key:0})):(i(),c("div",Ve,[f.value.length<=0?(i(),C(n,{key:0,title:"The video is currently unavailable",description:"We invite you to check back later when it is ready for viewing"})):(i(),c("div",Ae,[e("div",Fe,[e("label",Se,[e("div",Ie,[m(l(p),{icon:"iconoir:add-media-video",class:"mx-auto text-4xl text-primary"}),Be])]),e("input",{onChange:A,type:"file",class:"hidden",id:"input_video",accept:".mp4"},null,32),(i(!0),c(H,null,N(f.value,(s,u)=>(i(),c("div",{key:u,class:"p-6 bg-white hover:shadow-xl transition-all lg:rounded-[2rem] rounded-[1.5rem] relative"},[e("video",{src:s.url,controls:"",class:"w-full h-48 rounded-[1rem]"},null,8,Pe),e("div",He,[e("label",Ne,[m(l(p),{icon:"nimbus:ellipsis",class:"text-2xl"})]),e("ul",Ee,[e("li",null,[e("a",{onClick:L=>F(u),class:"bg-red-600 text-white hover:bg-red-600 active:bg-red-600"},"Delete",8,Ke)])])]),e("div",Je,[e("div",Oe,[e("h1",Ye,v(s.name),1),e("div",qe,[e("div",null,v((s.size/1024e3).toFixed(1))+" Mb",1),e("div",null,v(S(s.timestamp)),1)])])])]))),128))])]))]))],2),e("div",{class:x(["transition-all duration-400 ease-in-out",{"h-full w-full inline-block":l(a)=="documents","h-0 opacity-0 hidden":l(a)!="documents"}])},[w.value&&g.value.length<=0?(i(),C(d,{key:0})):(i(),c("div",Ge,[g.value.length<=0?(i(),C(n,{key:0,title:"The document is not yet available",description:"You may check back later when it is ready"})):(i(),c("div",We,[e("div",Qe,[e("label",Xe,[e("div",Ze,[m(l(p),{icon:"streamline:interface-file-add-alternate-file-common-add",class:"mx-auto text-4xl text-primary"}),et])]),e("input",{onChange:A,type:"file",class:"hidden",id:"input_document",accept:".pdf"},null,32),(i(!0),c(H,null,N(g.value,(s,u)=>(i(),c("div",{key:u,onClick:L=>D.value=u,class:"p-6 bg-white hover:shadow-xl transition-all lg:rounded-[2rem] relative rounded-[1.5rem]"},[e("div",ot,[e("label",st,[m(l(p),{icon:"nimbus:ellipsis",class:"text-2xl"})]),e("ul",at,[e("li",null,[e("a",{onClick:L=>F(u),class:"bg-red-600 text-white hover:bg-red-600 active:bg-red-600"},"Delete",8,lt)])])]),e("label",nt,[e("div",it,[m(l(p),{class:"text-6xl text-primary",icon:"bi:file-pdf-fill"}),e("h1",dt,v(s.name),1)]),e("div",rt,[e("div",ct,[e("div",null,v((s.size/1024e3).toFixed(1))+" Mb",1),e("div",null,v(S(s.timestamp)),1)])])])],8,tt))),128))])])),ut,e("div",mt,[g.value[D.value]?(i(),c("div",gt,[g.value[D.value].type==="application/pdf"?(i(),c("object",{key:0,data:g.value[D.value].url,type:"application/pdf",width:"100%",height:"600px"},[e("p",null,[e("a",{href:g.value[D.value].url},"Download PDF",8,pt)])],8,vt)):E("",!0),ht])):E("",!0)])]))],2),e("div",{class:x(["transition-all duration-400 ease-in-out",{"h-full w-full inline-block":l(a)=="image","h-0 opacity-0 hidden":l(a)!="image"}])},[w.value&&b.value.length<=0?(i(),C(d,{key:0})):(i(),c("div",_t,[b.value.length<=0?(i(),C(n,{key:0,title:"Image not available at the moment",description:"Please check back later when it becomes accessible"})):(i(),c("div",bt,[e("div",ft,[e("label",yt,[e("div",xt,[m(l(p),{icon:"mdi:image-add-outline",class:"mx-auto text-4xl text-primary"}),wt])]),e("input",{onChange:A,type:"file",class:"hidden",id:"input_image",accept:"image/*"},null,32),(i(!0),c(H,null,N(b.value,(s,u)=>(i(),c("div",{key:u,onClick:L=>V.value=u,class:"p-6 bg-white hover:shadow-xl transition-all lg:rounded-[2rem] rounded-[1.5rem] relative"},[e("div",Ct,[e("label",Dt,[m(l(p),{icon:"nimbus:ellipsis",class:"text-2xl"})]),e("ul",$t,[e("li",null,[e("a",{onClick:L=>F(u),class:"bg-red-600 text-white hover:bg-red-600 active:bg-red-600"},"Delete",8,Tt)])])]),e("label",zt,[e("img",{src:s.url,alt:s.name,class:"w-full h-48 object-center object-cover rounded-xl"},null,8,jt),e("div",Rt,[e("div",Ut,[e("h1",Lt,v(s.name),1),e("div",Mt,[e("div",null,v((s.size/10240).toFixed(1))+" Kb",1),e("div",null,v(S(s.timestamp)),1)])])])])],8,kt))),128))])])),Vt,e("div",At,[b.value[V.value]?(i(),c("div",Ft,[e("img",{src:b.value[V.value].url,class:"w-full rounded-xl"},null,8,St),It])):E("",!0)])]))],2),P(e("input",{type:"checkbox",id:"status_modal","onUpdate:modelValue":t[8]||(t[8]=s=>z.value=s),class:"modal-toggle"},null,512),[[re,z.value]]),e("div",Bt,[e("div",Pt,[e("h4",null,[m(l(p),{icon:"line-md:uploading-loop",class:"text-primary text-6xl mb-4 mx-auto"})]),e("div",Ht,[e("div",{class:"h-full bg-primary rounded-xl transition-all duration-400",style:ce({width:K.value+"%"})},null,4)])])])])])])])}}});export{qt as default};
